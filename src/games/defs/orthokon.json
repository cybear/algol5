{
  "meta": {
    "id": "orthokon",
    "name": "Orthokon",
    "source": "http://www.di.fc.ul.pt/~jpn/gv/orthokon.htm",
    "tags": ["changeowner","stalemate"],
    "author": "L. Lynn Smith",
    "year": 2001
  },
  "graphics": {"icons":{"soldiers":"pawns"}},
  "board": {"height":4,"width":4},
  "setup": {
    "soldiers": {
      "1": [["rect","a1","d1"]],
      "2": [["rect","a4","d4"]]
    }
  },
  "startTurn": {
    "link": "selectunit"
  },
  "marks": {
    "selectunit": {
      "from": "myunits",
      "runGenerator": "findmovetargets",
      "link": "selectmovetarget"
    },
    "selectmovetarget": {
      "from": "movetargets",
      "runGenerator": "findvictims",
      "link": "move"
    }
  },
  "commands": {
    "move": {
      "applyEffects": [
        ["moveat","selectunit","selectmovetarget"],
        ["setin","victims","owner",["currentplayer"]]
      ],
      "link": "endturn"
    }
  },
  "generators": {
    "findvictims": {
      "type": "neighbour",
      "start": "selectmovetarget",
      "dirs": [1,3,5,7],
      "ifover": "oppunits",
      "draw": {
        "neighbours": {
          "tolayer": "victims"
        }
      }
    },
    "findmovetargets": {
      "type": "walker",
      "start": "selectunit",
      "dirs": [1,2,3,4,5,6,7,8],
      "blocks": "units",
      "draw": {
        "last": {
          "tolayer": "movetargets"
        }
      }
    }
  },
  "AI": {
    "aspects": {
      "headcount": ["sizeof","myunits"]
    },
    "brains": {
      "Bob": {
        "plus": {
          "headcount": 1
        }
      }
    }
  }
}